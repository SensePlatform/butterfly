/*! butterfly           2015-06-26 */

(function(){var m,u,x,y,t,z,r,A,n,B,C,p,F=[].slice,D=[].indexOf||function(c){for(var a=0,b=this.length;a<b;a++)if(a in this&&this[a]===c)return a;return-1};C=!1;B=(new Date).getTime();document.querySelectorAll.bind(document);document.addEventListener("DOMContentLoaded",function(){var c,a,b,f,d,e;console.log("Ping defined");setInterval(function(){return d.send("P")},1E4);e="https:"===location.protocol?"wss://":"ws://";e+=document.location.host+"/ws"+location.pathname;d=new WebSocket(e);d.addEventListener("open",
function(){console.log("WebSocket open",arguments);d.send("R"+b.cols+","+b.rows);return B=(new Date).getTime()});d.addEventListener("error",function(){return console.log("WebSocket error",arguments)});a=null;c="";d.addEventListener("message",function(d){a&&clearTimeout(a);c+=d.data;b.stop&&(c=c.slice(-10240));return c.length>b.buffSize?f():a=setTimeout(f,1)});f=function(){b.write(c);b.stop&&(b.stop=!1,b.body.classList.remove("stopped"));return c=""};d.addEventListener("close",function(){console.log("WebSocket closed",
arguments);setTimeout(function(){b.write("Closed");b.skipNextKey=!0;return b.body.classList.add("dead")},1);C=!0;if(6E4<(new Date).getTime()-B)return open("","_self").close()});b=new A(document.body,function(a){return d.send("S"+a)},function(){var a,b;b=arguments[0];a=(2<=arguments.length?F.call(arguments,1):[]).join(",");if("Resize"===b)return d.send("R"+a)});addEventListener("beforeunload",function(){if(!C)return"This will exit the terminal session"});b.ws=d;window.butterfly=b;window.bench=function(a){var d;
null==a&&(a=1E8);for(d="";d.length<a;)d+=Math.random().toString(36).substring(2);console.time("bench");console.profile("bench");b.write(d);console.profileEnd();return console.timeEnd("bench")};return window.cbench=function(a){var d;null==a&&(a=1E8);for(d="";d.length<a;)d+="\u001b["+(30+parseInt(20*Math.random()))+"m",d+=Math.random().toString(36).substring(2);console.time("cbench");console.profile("cbench");b.write(d);console.profileEnd();return console.timeEnd("cbench")}});n=function(c){c.preventDefault&&
c.preventDefault();c.stopPropagation&&c.stopPropagation();c.cancelBubble=!0;return!1};p=0;m=p++;u=p++;x=p++;y=p++;t=p++;z=p++;r=p++;A=function(){function c(a,b,c){this.parent=a;this.out=b;this.ctl=null!=c?c:function(){};this.document=this.parent.ownerDocument;this.body=this.document.getElementsByTagName("body")[0];this.forceWidth="yes"===this.body.getAttribute("data-force-unicode-width");this.body.className="terminal focus";this.body.style.outline="none";this.body.setAttribute("tabindex",0);this.body.setAttribute("spellcheck",
"false");a=this.document.createElement("div");a.className="line";this.body.appendChild(a);this.children=[a];this.computeCharSize();this.cols=Math.floor(this.body.clientWidth/this.charSize.width);this.rows=Math.floor(window.innerHeight/this.charSize.height);this.body.style["padding-bottom"]=window.innerHeight%this.charSize.height+"px";this.scrollback=1E6;this.buffSize=1E5;this.visualBell=100;this.convertEol=!1;this.termName="xterm";this.cursorBlink=!0;this.cursorState=0;this.stop=!1;this.lastcc=0;
this.resetVars();this.focus();this.startBlink();addEventListener("keydown",this.keyDown.bind(this));addEventListener("keypress",this.keyPress.bind(this));addEventListener("focus",this.focus.bind(this));addEventListener("blur",this.blur.bind(this));addEventListener("resize",function(a){return function(){return a.resize()}}(this));this.body.addEventListener("load",function(a){return function(){return a.nativeScrollTo()}}(this),!0);"undefined"!==typeof InstallTrigger&&(this.body.contentEditable="true");
this.initmouse();addEventListener("load",function(a){return function(){return a.resize()}}(this))}c.prototype.cloneAttr=function(a,b){null==b&&(b=null);return{bg:a.bg,fg:a.fg,ch:null!==b?b:a.ch,bold:a.bold,underline:a.underline,blink:a.blink,inverse:a.inverse,invisible:a.invisible}};c.prototype.equalAttr=function(a,b){return a.bg===b.bg&&a.fg===b.fg&&a.bold===b.bold&&a.underline===b.underline&&a.blink===b.blink&&a.inverse===b.inverse&&a.invisible===b.invisible};c.prototype.putChar=function(a){this.insertMode?
(this.screen[this.y+this.shift].chars.splice(this.x,0,this.cloneAttr(this.curAttr,a)),this.screen[this.y+this.shift].chars.pop()):this.screen[this.y+this.shift].chars[this.x]=this.cloneAttr(this.curAttr,a);return this.screen[this.y+this.shift].dirty=!0};c.prototype.resetVars=function(){var a;this.y=this.x=0;this.cursorHidden=!1;this.state=m;this.queue="";this.scrollTop=0;this.scrollBottom=this.rows-1;this.originMode=this.applicationCursor=this.applicationKeypad=this.scrollLock=!1;this.autowrap=!0;
this.gcharset=this.charset=this.normal=null;this.glevel=0;this.charsets=[null];this.defAttr={bg:256,fg:257,ch:" ",bold:!1,underline:!1,blink:!1,inverse:!1,invisible:!1};this.curAttr=this.cloneAttr(this.defAttr);this.params=[];this.currentParam=0;this.prefix="";this.screen=[];a=this.rows;for(this.shift=0;a--;)this.screen.push(this.blankLine(!1,!1));this.setupStops();return this.skipNextKey=null};c.prototype.computeCharSize=function(){var a;a=document.createElement("span");a.textContent="0123456789";
this.children[0].appendChild(a);this.charSize={width:a.getBoundingClientRect().width/10,height:this.children[0].getBoundingClientRect().height};return this.children[0].removeChild(a)};c.prototype.eraseAttr=function(){var a;a=this.cloneAttr(this.defAttr);a.bg=this.curAttr.bg;return a};c.prototype.focus=function(){this.sendFocus&&this.send("\u001b[I");this.showCursor();this.body.classList.add("focus");return this.body.classList.remove("blur")};c.prototype.blur=function(){this.cursorState=1;this.screen[this.y+
this.shift].dirty=!0;this.refresh();this.sendFocus&&this.send("\u001b[O");this.body.classList.add("blur");return this.body.classList.remove("focus")};c.prototype.initmouse=function(){var a,b,c,d,e,h,k;d=32;e=function(a){var e,E;e=b(a);if(E=c(a))return h(e,E,a.type),d=e};k=function(a){var b,e;b=d;if(e=c(a))return h(b+32,e,a.type)};a=function(a){return function(b,d){if(a.utfMouse){if(2047===d)return b.push(0);if(127>d)return b.push(d);2047<d&&(d=2047);b.push(192|d>>6);return b.push(128|d&63)}if(255===
d)return b.push(0);127<d&&(d=127);return b.push(d)}}(this);h=function(b){return function(d,c,f){if(b.urxvtMouse)c.x-=32,c.y-=32,c.x++,c.y++,b.send("\u001b["+d+";"+c.x+";"+c.y+"M");else if(b.sgrMouse)c.x-=32,c.y-=32,b.send("\u001b[<"+(d-32)+";"+c.x+";"+c.y+("mouseup"===f?"m":"M"));else return f=[],a(f,d),a(f,c.x),a(f,c.y),b.send("\u001b[M"+String.fromCharCode.apply(String,f))}}(this);b=function(a){return function(b){var d,c,f;switch(b.type){case "mousedown":d=null!=b.button?+b.button:null!=b.which?
b.which-1:null;break;case "mouseup":d=3;break;case "wheel":d=0>b.deltaY?64:65}f=b.shiftKey?4:0;c=b.metaKey?8:0;b=b.ctrlKey?16:0;c=f|c|b;a.vt200Mouse?c&=b:a.normalMouse||(c=0);return 32+(c<<2)+d}}(this);c=function(a){return function(b){var d,c,f,e;f=b.pageX;e=b.pageY-window.scrollY;c=a.body.clientWidth;d=window.innerHeight;f=Math.ceil(f/c*a.cols);e=Math.ceil(e/d*a.rows);0>f&&(f=0);f>a.cols&&(f=a.cols);0>e&&(e=0);e>a.rows&&(e=a.rows);return{x:f+32,y:e+32,type:b.type}}}(this);addEventListener("contextmenu",
function(a){return function(b){if(a.mouseEvents)return n(b)}}(this));addEventListener("mousedown",function(a){return function(b){var d,c;if(a.mouseEvents)return e(b),d=k.bind(a),addEventListener("mousemove",d),a.x10Mouse||addEventListener("mouseup",c=function(a){e(a);removeEventListener("mousemove",d);removeEventListener("mouseup",c);return n(a)}),n(b)}}(this));return addEventListener("wheel",function(a){return function(b){if(a.mouseEvents&&!a.x10Mouse)return e(b),n(b)}}(this))};c.prototype.linkify=
function(a){var b,c,d;d=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim;c=/(^|[^\/])(www\.[\S]+(\b|$))/gim;b=/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim;var e,h,k,l;k=a.split("&nbsp;");l=[];e=0;for(h=k.length;e<h;e++)a=k[e],l.push(a.replace(d,'<a href="$&">$&</a>').replace(c,'$1<a href="http://$2">$2</a>').replace(b,'<a href="mailto:$&">$&</a>'));return l.join("&nbsp;")};c.prototype.refresh=function(a){var b,c,d,e,h,k,l,q,m,n,p,g,t,v,r,w,u;null==a&&(a=!1);k=this.body.querySelectorAll(".cursor");
q=0;for(c=k.length;q<c;q++)d=k[q],d.parentNode.replaceChild(this.document.createTextNode(d.textContent),d);q="";t=this.screen;l=n=0;for(m=t.length;n<m;l=++n)if(d=t[l],d.dirty||a){g="";u=l!==this.y+this.shift||this.cursorHidden?-Infinity:this.x;b=this.cloneAttr(this.defAttr);r=!1;k=p=0;for(v=this.cols-1;0<=v?p<=v:p>=v;k=0<=v?++p:--p){e=d.chars[k];if(e.html){g+=e.html;break}if(r)r=!1;else{c=e.ch;this.equalAttr(e,b)||(this.equalAttr(b,this.defAttr)||(g+="</span>"),this.equalAttr(e,this.defAttr)||(b=
[],w=[],g+="<span ",e.bold&&b.push("bold"),e.underline&&b.push("underline"),e.blink&&b.push("blink"),e.inverse&&b.push("reverse-video"),e.invisible&&b.push("invisible"),"number"===typeof e.fg&&(h=e.fg,e.bold&&8>h&&(h+=8),b.push("fg-color-"+h)),"string"===typeof e.fg&&w.push("color: "+e.fg),"number"===typeof e.bg&&b.push("bg-color-"+e.bg),"string"===typeof e.bg&&w.push("background-color: "+e.bg),g+='class="',g+=b.join(" "),g+='"',w.length&&(g+=' style="'+w.join("; ")+'"'),g+=">"));k===u&&(g+='<span class="'+
(this.cursorState?"reverse-video ":"")+'cursor">');if(1<c.length)g+=c;else switch(c){case "&":g+="&amp;";break;case "<":g+="&lt;";break;case ">":g+="&gt;";break;default:"\u00a0"===c?g+='<span class="nbsp">\u2007</span>':" ">=c?g+="&nbsp;":!this.forceWidth||"~">=c?g+=c:"\uff00"<c&&"\uffef">c?(r=!0,g+='<span style="display: inline-block; width: '+2*this.charSize.width+'px">'+c+"</span>"):g+='<span style="display: inline-block; width: '+this.charSize.width+'px">'+c+"</span>"}k===u&&(g+="</span>");b=
e}}this.equalAttr(b,this.defAttr)||(g+="</span>");l===this.y+this.shift||e.html||(g=this.linkify(g));d.wrap&&(g+="\u23ce");this.children[l]?this.children[l].innerHTML=g:q+='<div class="line">'+g+"</div>";this.screen[l].dirty=!1}if(""!==q){a=this.document.createElement("div");a.className="group";a.innerHTML=q;this.body.appendChild(a);this.screen=this.screen.slice(-this.rows);this.shift=0;a=document.querySelectorAll(".line");if(a.length>this.scrollback){q=Array.prototype.slice.call(a,0,a.length-this.scrollback);
e=0;for(a=q.length;e<a;e++)d=q[e],d.remove();d=document.querySelectorAll(".group:empty");q=0;for(e=d.length;q<e;q++)a=d[q],a.remove();a=document.querySelectorAll(".line")}this.children=Array.prototype.slice.call(a,-this.rows)}if(!this.scrollLock)return this.nativeScrollTo()};c.prototype._cursorBlink=function(){var a;this.cursorState^=1;if(a=this.body.querySelector(".cursor"))return a.classList.contains("reverse-video")?a.classList.remove("reverse-video"):a.classList.add("reverse-video")};c.prototype.showCursor=
function(){if(!this.cursorState)return this.cursorState=1,this.screen[this.y+this.shift].dirty=!0,this.refresh()};c.prototype.startBlink=function(){if(this.cursorBlink)return this._blinker=function(a){return function(){return a._cursorBlink()}}(this),this.t_blink=setInterval(this._blinker,500)};c.prototype.refreshBlink=function(){if(this.cursorBlink)return clearInterval(this.t_blink),this.t_blink=setInterval(this._blinker,500)};c.prototype.scroll=function(){var a,b,c,d,e;if(this.normal||0!==this.scrollTop||
this.scrollBottom!==this.rows-1){this.screen.splice(this.shift+this.scrollBottom+1,0,this.blankLine());this.screen.splice(this.shift+this.scrollTop,1);e=[];a=b=c=this.scrollTop;for(d=this.scrollBottom;c<=d?b<=d:b>=d;a=c<=d?++b:--b)e.push(this.screen[a+this.shift].dirty=!0);return e}this.screen.push(this.blankLine());return this.shift++};c.prototype.unscroll=function(){var a,b,c,d,e;this.screen.splice(this.shift+this.scrollTop,0,this.blankLine(!0));this.screen.splice(this.shift+this.scrollBottom+1,
1);e=[];a=b=c=this.scrollTop;for(d=this.scrollBottom;c<=d?b<=d:b>=d;a=c<=d?++b:--b)e.push(this.screen[a+this.shift].dirty=!0);return e};c.prototype.nativeScrollTo=function(a){null==a&&(a=2E9);return window.scrollTo(0,a)};c.prototype.scrollDisplay=function(a){return this.nativeScrollTo(window.scrollY+a*this.charSize.height)};c.prototype.nextLine=function(){this.y++;if(this.y>this.scrollBottom)return this.y--,this.scroll()};c.prototype.prevLine=function(){this.y--;if(this.y<this.scrollTop)return this.y++,
this.unscroll()};c.prototype.write=function(a){var b,f,d,e,h,k,l,q,n,p;d=0;for(e=a.length;d<e;){b=a.charAt(d);switch(this.state){case m:switch(b){case "\u0007":this.bell();break;case "\n":case "\x0B":case "\f":this.screen[this.y+this.shift].dirty=!0;this.nextLine();break;case "\r":this.x=0;break;case "\b":this.x>=this.cols&&this.x--;0<this.x&&this.x--;break;case "\t":this.x=this.nextStop();break;case "\u000e":this.setgLevel(1);break;case "\u000f":this.setgLevel(0);break;case "\u001b":this.state=u;
break;default:if("\u0300"<=b&&"\u036f">=b||"\u1ab0"<=b&&"\u1aff">=b||"\u1dc0"<=b&&"\u1dff">=b||"\u20d0"<=b&&"\u20ff">=b||"\ufe20"<=b&&"\ufe2f">=b){f=this.x;h=this.y+this.shift;if(0<this.x)--f;else if(0<this.y)--h,f=this.cols-1;else break;this.screen[h].chars[f].ch+=b;break}if(" "<=b&&(null!=(q=this.charset)&&q[b]&&(b=this.charset[b]),this.x>=this.cols&&(this.autowrap&&(this.screen[this.y+this.shift].wrap=!0,this.nextLine()),this.x=0),this.putChar(b),this.x++,this.forceWidth&&"\uff00"<b&&"\uffef">
b)){if(2>this.cols||this.x>=this.cols){this.putChar(" ");break}this.putChar(" ");this.x++}}break;case u:switch(b){case "[":this.params=[];this.currentParam=0;this.state=x;break;case "]":this.params=[];this.currentParam=0;this.state=y;break;case "P":this.params=[];this.currentParam=0;this.state=z;break;case "_":this.state=r;break;case "^":this.state=r;break;case "c":this.reset();break;case "E":this.x=0;this.index();break;case "D":this.index();break;case "M":this.reverseIndex();break;case "%":this.setgLevel(0);
this.setgCharset(0,c.prototype.charsets.US);this.state=m;d++;break;case "(":case ")":case "*":case "+":case "-":case ".":switch(b){case "(":this.gcharset=0;break;case ")":case "-":this.gcharset=1;break;case "*":case ".":this.gcharset=2;break;case "+":this.gcharset=3}this.state=t;break;case "/":this.gcharset=3;this.state=t;d--;break;case "n":this.setgLevel(2);break;case "o":this.setgLevel(3);break;case "|":this.setgLevel(3);break;case "}":this.setgLevel(2);break;case "~":this.setgLevel(1);break;case "7":this.saveCursor();
this.state=m;break;case "8":this.restoreCursor();this.state=m;break;case "#":this.state=m;d++;b=a.charAt(d);switch(b){case "8":n=this.screen;f=0;for(h=n.length;f<h;f++)for(k=n[f],k.dirty=!0,b=l=0,p=k.chars.length;0<=p?l<=p:l>=p;b=0<=p?++l:--l)k.chars[b]=this.cloneAttr(this.curAttr,"E");this.x=this.y=0}break;case "H":this.tabSet();break;case "=":this.applicationKeypad=!0;this.state=m;break;case ">":this.applicationKeypad=!1;this.state=m;break;default:this.state=m,console.log("Unknown ESC control:",
b)}break;case t:switch(b){case "0":b=c.prototype.charsets.SCLD;break;case "A":b=c.prototype.charsets.UK;break;case "B":b=c.prototype.charsets.US;break;case "4":b=c.prototype.charsets.Dutch;break;case "C":case "5":b=c.prototype.charsets.Finnish;break;case "R":b=c.prototype.charsets.French;break;case "Q":b=c.prototype.charsets.FrenchCanadian;break;case "K":b=c.prototype.charsets.German;break;case "Y":b=c.prototype.charsets.Italian;break;case "E":case "6":b=c.prototype.charsets.NorwegianDanish;break;
case "Z":b=c.prototype.charsets.Spanish;break;case "H":case "7":b=c.prototype.charsets.Swedish;break;case "=":b=c.prototype.charsets.Swiss;break;case "/":b=c.prototype.charsets.ISOLatin;d++;break;default:b=c.prototype.charsets.US}this.setgCharset(this.gcharset,b);this.gcharset=null;this.state=m;break;case y:if("\u001b"===b||"\u0007"===b){"\u001b"===b&&d++;this.params.push(this.currentParam);switch(this.params[0]){case 0:case 1:case 2:this.params[1]&&(this.title=this.params[1]+" - \u01b8\u04dc\u01b7 butterfly",
this.handleTitle(this.title))}this.params=[];this.currentParam=0;this.state=m}else this.params.length?this.currentParam+=b:"0"<=b&&"9">=b?this.currentParam=10*this.currentParam+b.charCodeAt(0)-48:";"===b&&(this.params.push(this.currentParam),this.currentParam="");break;case x:if("?"===b||">"===b||"!"===b){this.prefix=b;break}if("0"<=b&&"9">=b){this.currentParam=10*this.currentParam+b.charCodeAt(0)-48;break}if("$"===b||'"'===b||" "===b||"'"===b)break;if(" ">=b||"~"<=b){"\b"===b&&(this.currentParam=
this.currentParam/10&1);"\r"===b&&(this.x=0);0<=["\n","\x0B","\f"].indexOf(b)&&(this.screen[this.y+this.shift].dirty=!0,this.nextLine());break}this.params.push(this.currentParam);this.currentParam=0;if(";"===b)break;this.state=m;switch(b){case "A":this.cursorUp(this.params);break;case "B":this.cursorDown(this.params);break;case "C":this.cursorForward(this.params);break;case "D":this.cursorBackward(this.params);break;case "H":this.cursorPos(this.params);break;case "J":this.eraseInDisplay(this.params);
break;case "K":this.eraseInLine(this.params);break;case "m":this.prefix||this.charAttributes(this.params);break;case "n":this.prefix||this.deviceStatus(this.params);break;case "@":this.insertChars(this.params);break;case "E":this.cursorNextLine(this.params);break;case "F":this.cursorPrecedingLine(this.params);break;case "G":this.cursorCharAbsolute(this.params);break;case "L":this.insertLines(this.params);break;case "M":this.deleteLines(this.params);break;case "P":this.deleteChars(this.params);break;
case "X":this.eraseChars(this.params);break;case "`":this.charPosAbsolute(this.params);break;case "a":this.HPositionRelative(this.params);break;case "c":this.sendDeviceAttributes(this.params);break;case "d":this.linePosAbsolute(this.params);break;case "e":this.VPositionRelative(this.params);break;case "f":this.HVPosition(this.params);break;case "h":this.setMode(this.params);break;case "l":this.resetMode(this.params);break;case "r":this.setScrollRegion(this.params);break;case "s":this.saveCursor(this.params);
break;case "u":this.restoreCursor(this.params);break;case "I":this.cursorForwardTab(this.params);break;case "S":this.scrollUp(this.params);break;case "T":2>this.params.length&&!this.prefix&&this.scrollDown(this.params);break;case "Z":this.cursorBackwardTab(this.params);break;case "b":this.repeatPrecedingCharacter(this.params);break;case "g":this.tabClear(this.params);break;case "p":"!"===this.prefix&&this.softReset(this.params);break;default:console.error("Unknown CSI code: %s (%d).",b,b.charCodeAt(0))}this.prefix=
"";break;case z:if("\u001b"===b||"\u0007"===b){"\u001b"===b&&d++;switch(this.prefix){case "":b=this.currentParam;if(";"!==b[0]){console.error("Unknown DECUDK: "+b);break}b=b.slice(1);f=b.split("|",2);h=f[0];f=f[1];if(!f){console.error("No type for inline DECUDK: "+b);break}switch(h){case "HTML":f=html_sanitize(f,function(a){return a});b=this.cloneAttr(this.curAttr);b.html='<div class="inline-html">'+f+"</div>";this.screen[this.y+this.shift].chars[this.x]=b;this.screen[this.y+this.shift].dirty=!0;
this.screen[this.y+this.shift].wrap=!1;this.nextLine();break;case "IMAGE":f=encodeURI(f);f.indexOf(";")?(h=f.slice(0,f.indexOf(";")),f=f.slice(f.indexOf(";")+1)):h="image";b=this.cloneAttr(this.curAttr);b.html='<img class="inline-image" src="data:'+h+";base64,"+f+'" />';this.screen[this.y+this.shift].chars[this.x]=b;this.screen[this.y+this.shift].dirty=!0;this.screen[this.y+this.shift].wrap=!1;break;case "PROMPT":this.send(f);break;case "TEXT":e+=f.length;a=a.slice(0,d+1)+f+a.slice(d+1);break;default:console.error("Unknown type "+
h+" for DECUDK")}break;case "$q":b=this.currentParam;f=!1;switch(b){case '"q':b='0"q';break;case '"p':b='61"p';break;case "r":b=""+(this.scrollTop+1)+";"+(this.scrollBottom+1)+"r";break;case "m":b="0m";break;default:console.error("Unknown DCS Pt: %s.",b),b=""}this.send("\u001bP"+ +f+"$r"+b+"\u001b\\");break;case "+q":b=this.currentParam;f=!1;this.send("\u001bP"+ +f+"+r"+b+"\u001b\\");break;default:console.error("Unknown DCS prefix: %s.",this.prefix)}this.currentParam=0;this.prefix="";this.state=m}else this.currentParam?
this.currentParam+=b:this.prefix||"$"===b||"+"===b?2===this.prefix.length?this.currentParam=b:this.prefix+=b:this.currentParam=b;break;case r:if("\u001b"===b||"\u0007"===b)"\u001b"===b&&d++,this.state=m}d++}this.screen[this.y+this.shift].dirty=!0;return this.refresh()};c.prototype.writeln=function(a){return this.write(a+"\r\n")};c.prototype.keyDown=function(a){var b,c;if(15<a.keyCode&&19>a.keyCode||(a.shiftKey||a.ctrlKey)&&45===a.keyCode||a.shiftKey&&a.ctrlKey&&(67===(c=a.keyCode)||86===c))return!0;
if(a.altKey&&90===a.keyCode&&!this.skipNextKey)return this.skipNextKey=!0,this.body.classList.add("skip"),n(a);if(this.skipNextKey)return this.skipNextKey=!1,this.body.classList.remove("skip"),!0;switch(a.keyCode){case 8:b=a.altKey?"\u001b":"";if(a.shiftKey){b+="\b";break}b+="\u007f";break;case 9:if(a.shiftKey){b="\u001b[Z";break}b="\t";break;case 13:b="\r";break;case 27:b="\u001b";break;case 37:if(this.applicationCursor){b="\u001bOD";break}b="\u001b[D";break;case 39:if(this.applicationCursor){b=
"\u001bOC";break}b="\u001b[C";break;case 38:if(this.applicationCursor){b="\u001bOA";break}if(a.ctrlKey)return this.scrollDisplay(-1),n(a);b="\u001b[A";break;case 40:if(this.applicationCursor){b="\u001bOB";break}if(a.ctrlKey)return this.scrollDisplay(1),n(a);b="\u001b[B";break;case 46:b="\u001b[3~";break;case 45:b="\u001b[2~";break;case 36:if(this.applicationKeypad){b="\u001bOH";break}b="\u001bOH";break;case 35:if(this.applicationKeypad){b="\u001bOF";break}b="\u001bOF";break;case 33:if(a.shiftKey)return this.scrollDisplay(-(this.rows-
1)),n(a);b="\u001b[5~";break;case 34:if(a.shiftKey)return this.scrollDisplay(this.rows-1),n(a);b="\u001b[6~";break;case 112:b="\u001bOP";break;case 113:b="\u001bOQ";break;case 114:b="\u001bOR";break;case 115:b="\u001bOS";break;case 116:b="\u001b[15~";break;case 117:b="\u001b[17~";break;case 118:b="\u001b[18~";break;case 119:b="\u001b[19~";break;case 120:b="\u001b[20~";break;case 121:b="\u001b[21~";break;case 122:b="\u001b[23~";break;case 123:b="\u001b[24~";break;case 145:return(this.scrollLock=!this.scrollLock)?
this.body.classList.add("locked"):this.body.classList.remove("locked"),n(a);default:if(a.ctrlKey)if(65<=a.keyCode&&90>=a.keyCode){if(67===a.keyCode){b=(new Date).getTime();if(500>b-this.lastcc&&!this.stop){for(a=setTimeout(function(){});a--;)a!==this.t_bell&&a!==this.t_queue&&a!==this.t_blink&&clearTimeout(a);this.body.classList.add("stopped");this.stop=!0;return this.send(" \u007f")}if(this.stop)return!0;this.lastcc=b}b=String.fromCharCode(a.keyCode-64)}else 32===a.keyCode?b=String.fromCharCode(0):
51<=a.keyCode&&55>=a.keyCode?b=String.fromCharCode(a.keyCode-51+27):56===a.keyCode?b=String.fromCharCode(127):219===a.keyCode?b=String.fromCharCode(27):221===a.keyCode&&(b=String.fromCharCode(29));else if(a.altKey&&0>D.call(navigator.platform,"Mac")||a.metaKey&&0<=D.call(navigator.platform,"Mac"))65<=a.keyCode&&90>=a.keyCode?b="\u001b"+String.fromCharCode(a.keyCode+32):192===a.keyCode?b="\u001b`":48<=a.keyCode&&57>=a.keyCode&&(b="\u001b"+(a.keyCode-48))}37<=a.keyCode&&40>=a.keyCode&&(a.ctrlKey?b=
b.slice(0,-1)+"1;5"+b.slice(-1):a.altKey?b=b.slice(0,-1)+"1;3"+b.slice(-1):a.shiftKey&&(b=b.slice(0,-1)+"1;4"+b.slice(-1)));if(!b)return!0;this.showCursor();this.send(b);return n(a)};c.prototype.setgLevel=function(a){this.glevel=a;return this.charset=this.charsets[a]};c.prototype.setgCharset=function(a,b){this.charsets[a]=b;if(this.glevel===a)return this.charset=b};c.prototype.keyPress=function(a){var b;if(!1===this.skipNextKey)return this.skipNextKey=null,!0;if(15<a.keyCode&&19>a.keyCode||(a.shiftKey||
a.ctrlKey)&&45===a.keyCode||a.shiftKey&&a.ctrlKey&&(67===(b=a.keyCode)||86===b))return!0;if(a.charCode)b=a.charCode;else if(null==a.which)b=a.keyCode;else if(0!==a.which&&0!==a.charCode)b=a.which;else return!1;if(!b||a.ctrlKey||a.altKey||a.metaKey)return!1;b=String.fromCharCode(b);this.showCursor();this.send(b);return!1};c.prototype.bell=function(a){null==a&&(a="bell");if(this.visualBell)return this.body.classList.add(a),this.t_bell=setTimeout(function(b){return function(){return b.body.classList.remove(a)}}(this),
this.visualBell)};c.prototype.resize=function(a,b){var c,d,e;null==a&&(a=null);null==b&&(b=null);d=this.cols;e=this.rows;this.computeCharSize();this.cols=a||Math.floor(this.body.clientWidth/this.charSize.width);this.rows=b||Math.floor(window.innerHeight/this.charSize.height);this.body.style["padding-bottom"]=window.innerHeight%this.charSize.height+"px";if(a||b||d!==this.cols||e!==this.rows){this.ctl("Resize",this.cols,this.rows);if(d<this.cols)for(c=this.screen.length;c--;){for(;this.screen[c].chars.length<
this.cols;)this.screen[c].chars.push(this.defAttr);this.screen[c].wrap=!1}else if(d>this.cols)for(c=this.screen.length;c--;)for(;this.screen[c].chars.length>this.cols;)this.screen[c].chars.pop();this.setupStops(d);d=e;if(d<this.rows)for(c=this.body;d++<this.rows;)this.screen.length<this.rows&&this.screen.push(this.blankLine()),this.children.length<this.rows&&(e=this.document.createElement("div"),e.className="line",c.appendChild(e),this.children.push(e));else if(d>this.rows)for(;d-- >this.rows;)this.screen.length>
this.rows&&this.screen.pop(),this.children.length>this.rows&&(c=this.children.pop(),null!=c&&c.parentNode.removeChild(c));this.y>=this.rows&&(this.y=this.rows-1);this.x>=this.cols&&(this.x=this.cols-1);this.scrollTop=0;this.scrollBottom=this.rows-1;this.refresh(!0);this.normal=null;if(a||b)return this.reset()}};c.prototype.resizeWindowPlease=function(a){return resizeTo(a*this.charSize.width+(window.innerWidth-this.body.clientWidth),window.innerHeight)};c.prototype.setupStops=function(a){var b;null!=
a?this.tabs[a]||(a=this.prevStop(a)):(this.tabs={},a=0);for(b=[];a<this.cols;)this.tabs[a]=!0,b.push(a+=8);return b};c.prototype.prevStop=function(a){null==a&&(a=this.x);for(;!this.tabs[--a]&&0<a;)1;return a>=this.cols?this.cols-1:0>a?0:a};c.prototype.nextStop=function(a){null==a&&(a=this.x);for(;!this.tabs[++a]&&a<this.cols;)1;return a>=this.cols?this.cols-1:0>a?0:a};c.prototype.eraseRight=function(a,b){var c;for(c=this.screen[b+this.shift].chars;a<this.cols;)c[a]=this.eraseAttr(),a++;this.screen[b+
this.shift].dirty=!0;return this.screen[b+this.shift].wrap=!1};c.prototype.eraseLeft=function(a,b){for(a++;a--;)this.screen[b+this.shift].chars[a]=this.eraseAttr();this.screen[b+this.shift].dirty=!0;return this.screen[b+this.shift].wrap=!1};c.prototype.eraseLine=function(a){return this.eraseRight(0,a)};c.prototype.blankLine=function(a,b){var c,d,e;null==a&&(a=!1);null==b&&(b=!0);c=a?this.eraseAttr():this.defAttr;e=[];for(d=0;d<this.cols;)e[d]=c,d++;return{chars:e,dirty:b,wrap:!1}};c.prototype.ch=
function(a){return a?this.eraseAttr():this.defAttr};c.prototype.isterm=function(a){return 0===(""+this.termName).indexOf(a)};c.prototype.send=function(a){return this.out(a)};c.prototype.handleTitle=function(a){return document.title=a};c.prototype.index=function(){this.nextLine();return this.state=m};c.prototype.reverseIndex=function(){this.prevLine();return this.state=m};c.prototype.reset=function(){this.resetVars();return this.refresh(!0)};c.prototype.tabSet=function(){this.tabs[this.x]=!0;return this.state=
m};c.prototype.cursorUp=function(a){a=a[0];1>a&&(a=1);this.y-=a;if(0>this.y)return this.y=0};c.prototype.cursorDown=function(a){a=a[0];1>a&&(a=1);this.y+=a;if(this.y>=this.rows)return this.y=this.rows-1};c.prototype.cursorForward=function(a){a=a[0];1>a&&(a=1);this.x+=a;if(this.x>=this.cols)return this.x=this.cols-1};c.prototype.cursorBackward=function(a){a=a[0];1>a&&(a=1);this.x-=a;if(0>this.x)return this.x=0};c.prototype.cursorPos=function(a){var b;b=a[0]-1;a=2<=a.length?a[1]-1:0;0>b?b=0:b>=this.rows&&
(b=this.rows-1);0>a?a=0:a>=this.cols&&(a=this.cols-1);this.x=a;return this.y=b+(this.originMode?this.scrollTop:0)};c.prototype.eraseInDisplay=function(a){var b;switch(a[0]){case 0:this.eraseRight(this.x,this.y);a=this.y+1;for(b=[];a<this.rows;)this.eraseLine(a),b.push(a++);return b;case 1:this.eraseLeft(this.x,this.y);a=this.y;for(b=[];a--;)b.push(this.eraseLine(a));return b;case 2:a=this.rows;for(b=[];a--;)b.push(this.eraseLine(a));return b}};c.prototype.eraseInLine=function(a){switch(a[0]){case 0:return this.eraseRight(this.x,
this.y);case 1:return this.eraseLeft(this.x,this.y);case 2:return this.eraseLine(this.y)}};c.prototype.charAttributes=function(a){var b,c,d,e;if(1===a.length&&0===a[0])this.curAttr=this.cloneAttr(this.defAttr);else{c=a.length;b=0;for(e=[];b<c;)d=a[b],30<=d&&37>=d?this.curAttr.fg=d-30:40<=d&&47>=d?this.curAttr.bg=d-40:90<=d&&97>=d?(d+=8,this.curAttr.fg=d-90):100<=d&&107>=d?(d+=8,this.curAttr.bg=d-100):0===d?this.curAttr=this.cloneAttr(this.defAttr):1===d?this.curAttr.bold=!0:4===d?this.curAttr.underline=
!0:5===d?this.curAttr.blink=!0:7===d?this.curAttr.inverse=!0:8===d?this.curAttr.invisible=!0:10!==d&&(22===d?this.curAttr.bold=!1:24===d?this.curAttr.underline=!1:25===d?this.curAttr.blink=!1:27===d?this.curAttr.inverse=!1:28===d?this.curAttr.invisible=!1:39===d?this.curAttr.fg=257:49===d?this.curAttr.bg=256:38===d?2===a[b+1]?(b+=2,this.curAttr.fg="rgb("+a[b]+", "+a[b+1]+", "+a[b+2]+")",b+=2):5===a[b+1]&&(b+=2,this.curAttr.fg=a[b]&255):48===d?2===a[b+1]?(b+=2,this.curAttr.bg="rgb("+a[b]+", "+a[b+
1]+", "+a[b+2]+")",b+=2):5===a[b+1]&&(b+=2,this.curAttr.bg=a[b]&255):100===d?(this.curAttr.fg=257,this.curAttr.bg=256):console.error("Unknown SGR attribute: %d.",d)),e.push(b++);return e}};c.prototype.deviceStatus=function(a){if(!this.prefix)switch(a[0]){case 5:return this.send("\u001b[0n");case 6:return this.send("\u001b["+(this.y+1)+";"+(this.x+1)+"R")}else if("?"===this.prefix&&6===a[0])return this.send("\u001b[?"+(this.y+1)+";"+(this.x+1)+"R")};c.prototype.insertChars=function(a){var b,c;b=a[0];
1>b&&(b=1);c=this.y;for(a=this.x;b--&&a<this.cols;)this.screen[c+this.shift].chars.splice(a++,0,[this.eraseAttr(),!0]),this.screen[c+this.shift].chars.pop();return this.screen[c+this.shift].dirty=!0};c.prototype.cursorNextLine=function(a){a=a[0];1>a&&(a=1);this.y+=a;this.y>=this.rows&&(this.y=this.rows-1);return this.x=0};c.prototype.cursorPrecedingLine=function(a){a=a[0];1>a&&(a=1);this.y-=a;0>this.y&&(this.y=0);return this.x=0};c.prototype.cursorCharAbsolute=function(a){a=a[0];1>a&&(a=1);return this.x=
a-1};c.prototype.insertLines=function(a){var b,c,d,e;a=a[0];for(1>a&&(a=1);a--;)this.screen.splice(this.y+this.shift,0,this.blankLine(!0)),this.screen.splice(this.scrollBottom+1+this.shift,1);e=[];a=b=c=this.y+this.shift;for(d=this.screen.length-1;c<=d?b<=d:b>=d;a=c<=d?++b:--b)e.push(this.screen[a].dirty=!0);return e};c.prototype.deleteLines=function(a){var b,c,d,e;a=a[0];for(1>a&&(a=1);a--;)this.screen.splice(this.scrollBottom+this.shift,0,this.blankLine(!0)),this.screen.splice(this.y+this.shift,
1),this.normal||0!==this.scrollTop||this.scrollBottom!==this.rows-1||(this.children[this.y+this.shift].remove(),this.children.splice(this.y+this.shift,1));if(this.normal||0!==this.scrollTop||this.scrollBottom!==this.rows-1){e=[];a=b=c=this.y+this.shift;for(d=this.screen.length-1;c<=d?b<=d:b>=d;a=c<=d?++b:--b)e.push(this.screen[a].dirty=!0);return e}};c.prototype.deleteChars=function(a){a=a[0];for(1>a&&(a=1);a--;)this.screen[this.y+this.shift].chars.splice(this.x,1),this.screen[this.y+this.shift].chars.push(this.eraseAttr());
this.screen[this.y+this.shift].dirty=!0;return this.screen[this.y+this.shift].wrap=!1};c.prototype.eraseChars=function(a){var b;b=a[0];1>b&&(b=1);for(a=this.x;b--&&a<this.cols;)this.screen[this.y+this.shift].chars[a++]=this.eraseAttr();this.screen[this.y+this.shift].dirty=!0;return this.screen[this.y+this.shift].wrap=!1};c.prototype.charPosAbsolute=function(a){a=a[0];1>a&&(a=1);this.x=a-1;if(this.x>=this.cols)return this.x=this.cols-1};c.prototype.HPositionRelative=function(a){a=a[0];1>a&&(a=1);this.x+=
a;if(this.x>=this.cols)return this.x=this.cols-1};c.prototype.sendDeviceAttributes=function(a){if(!(0<a[0]))if(!this.prefix){if(this.isterm("xterm")||this.isterm("rxvt-unicode")||this.isterm("screen"))return this.send("\u001b[?1;2c");if(this.isterm("linux"))return this.send("\u001b[?6c")}else if(">"===this.prefix){if(this.isterm("xterm"))return this.send("\u001b[>0;276;0c");if(this.isterm("rxvt-unicode"))return this.send("\u001b[>85;95;0c");if(this.isterm("linux"))return this.send(a[0]+"c");if(this.isterm("screen"))return this.send("\u001b[>83;40003;0c")}};
c.prototype.linePosAbsolute=function(a){a=a[0];1>a&&(a=1);this.y=a-1;if(this.y>=this.rows)return this.y=this.rows-1};c.prototype.VPositionRelative=function(a){a=a[0];1>a&&(a=1);this.y+=a;if(this.y>=this.rows)return this.y=this.rows-1};c.prototype.HVPosition=function(a){1>a[0]&&(a[0]=1);1>a[1]&&(a[1]=1);this.y=a[0]-1;this.y>=this.rows&&(this.y=this.rows-1);this.x=a[1]-1;if(this.x>=this.cols)return this.x=this.cols-1};c.prototype.setMode=function(a){var b,f;if("object"===typeof a)for(f=a.length,b=0;b<
f;)this.setMode(a[b]),b++;else if(!this.prefix)switch(a){case 4:this.insertMode=!0;break;case 20:this.convertEol=!0}else if("?"===this.prefix)switch(a){case 1:return this.applicationCursor=!0;case 2:return this.setgCharset(0,c.prototype.charsets.US),this.setgCharset(1,c.prototype.charsets.US),this.setgCharset(2,c.prototype.charsets.US),this.setgCharset(3,c.prototype.charsets.US);case 3:return this.savedCols=this.cols,this.resize(132,this.rows),this.resizeWindowPlease(132),this.reset();case 6:return this.originMode=
!0;case 7:return this.autowrap=!0;case 66:return this.applicationKeypad=!0;case 9:case 1E3:case 1002:case 1003:return this.x10Mouse=9===a,this.vt200Mouse=1E3===a,this.normalMouse=1E3<a,this.mouseEvents=!0,this.body.style.cursor="pointer";case 1004:return this.sendFocus=!0;case 1005:return this.utfMouse=!0;case 1006:return this.sgrMouse=!0;case 1015:return this.urxvtMouse=!0;case 25:return this.cursorHidden=!1;case 1049:case 47:case 1047:if(!this.normal)return a={screen:this.screen,x:this.x,y:this.y,
shift:this.shift,scrollTop:this.scrollTop,scrollBottom:this.scrollBottom,tabs:this.tabs},this.reset(),this.normal=a,this.showCursor()}};c.prototype.resetMode=function(a){var b,c;if("object"===typeof a)for(c=a.length,b=0;b<c;)this.resetMode(a[b]),b++;else if(!this.prefix)switch(a){case 4:this.insertMode=!1;break;case 20:this.convertEol=!1}else if("?"===this.prefix)switch(a){case 1:return this.applicationCursor=!1;case 3:return 132===this.cols&&this.savedCols&&this.resize(this.savedCols,this.rows),
this.resizeWindowPlease(80),this.reset(),delete this.savedCols;case 6:return this.originMode=!1;case 7:return this.autowrap=!1;case 66:return this.applicationKeypad=!1;case 9:case 1E3:case 1002:case 1003:return this.mouseEvents=this.normalMouse=this.vt200Mouse=this.x10Mouse=!1,this.body.style.cursor="";case 1004:return this.sendFocus=!1;case 1005:return this.utfMouse=!1;case 1006:return this.sgrMouse=!1;case 1015:return this.urxvtMouse=!1;case 25:return this.cursorHidden=!0;case 1049:case 47:case 1047:if(this.normal)return this.screen=
this.normal.screen,this.x=this.normal.x,this.y=this.normal.y,this.shift=this.normal.shift,this.scrollTop=this.normal.scrollTop,this.scrollBottom=this.normal.scrollBottom,this.tabs=this.normal.tabs,this.normal=null,this.reset(),this.showCursor()}};c.prototype.setScrollRegion=function(a){if(!this.prefix)return this.scrollTop=(a[0]||1)-1,this.scrollBottom=(a[1]||this.rows)-1,this.y=this.x=0};c.prototype.saveCursor=function(a){this.savedX=this.x;return this.savedY=this.y};c.prototype.restoreCursor=function(a){this.x=
this.savedX||0;return this.y=this.savedY||0};c.prototype.cursorForwardTab=function(a){var b;a=a[0]||1;for(b=[];a--;)b.push(this.x=this.nextStop());return b};c.prototype.scrollUp=function(a){var b,c,d,e;for(a=a[0]||1;a--;)this.screen.splice(this.scrollTop,1),this.screen.splice(this.scrollBottom,0,this.blankLine());e=[];a=b=c=this.scrollTop;for(d=this.scrollBottom;c<=d?b<=d:b>=d;a=c<=d?++b:--b)e.push(this.screen[a+this.shift].dirty=!0);return e};c.prototype.scrollDown=function(a){var b,c,d,e;for(a=
a[0]||1;a--;)this.screen.splice(this.scrollBottom,1),this.screen.splice(this.scrollTop,0,this.blankLine());e=[];a=b=c=this.scrollTop;for(d=this.scrollBottom;c<=d?b<=d:b>=d;a=c<=d?++b:--b)e.push(this.screen[a+this.shift].dirty=!0);return e};c.prototype.initMouseTracking=function(a){};c.prototype.resetTitleModes=function(a){};c.prototype.cursorBackwardTab=function(a){var b;a=a[0]||1;for(b=[];a--;)b.push(this.x=this.prevStop());return b};c.prototype.repeatPrecedingCharacter=function(a){var b,c;c=a[0]||
1;b=this.screen[this.y+this.shift].chars;for(a=b[this.x-1]||this.defAttr;c--;)b[this.x++]=a;return this.screen[this.y+this.shift].dirty=!0};c.prototype.tabClear=function(a){a=a[0];if(0>=a)return delete this.tabs[this.x];if(3===a)return this.tabs={}};c.prototype.mediaCopy=function(a){};c.prototype.setResources=function(a){};c.prototype.disableModifiers=function(a){};c.prototype.setPointerMode=function(a){};c.prototype.softReset=function(a){this.originMode=this.insertMode=this.cursorHidden=!1;this.autowrap=
!0;this.applicationCursor=this.applicationKeypad=!1;this.scrollTop=0;this.scrollBottom=this.rows-1;this.curAttr=this.defAttr;this.x=this.y=0;this.charset=null;this.glevel=0;return this.charsets=[null]};c.prototype.requestAnsiMode=function(a){};c.prototype.requestPrivateMode=function(a){};c.prototype.setConformanceLevel=function(a){};c.prototype.loadLEDs=function(a){};c.prototype.setCursorStyle=function(a){};c.prototype.setCharProtectionAttr=function(a){};c.prototype.restorePrivateValues=function(a){};
c.prototype.setAttrInRectangle=function(a){var b,c,d,e,h,k,l;l=a[0];d=a[1];b=a[2];h=a[3];a=a[4];for(k=[];l<b+1;){e=this.screen[l+this.shift].chars;this.screen[l+this.shift].dirty=!0;for(c=d;c<h;)e[c]=this.cloneAttr(a,e[c].ch),c++;k.push(l++)}return k};c.prototype.savePrivateValues=function(a){};c.prototype.manipulateWindow=function(a){};c.prototype.reverseAttrInRectangle=function(a){};c.prototype.setTitleModeFeature=function(a){};c.prototype.setWarningBellVolume=function(a){};c.prototype.setMarginBellVolume=
function(a){};c.prototype.copyRectangle=function(a){};c.prototype.enableFilterRectangle=function(a){};c.prototype.requestParameters=function(a){};c.prototype.selectChangeExtent=function(a){};c.prototype.fillRectangle=function(a){var b,c,d,e,h,k,l;c=a[0];l=a[1];d=a[2];b=a[3];h=a[4];for(k=[];l<b+1;){e=this.screen[l+this.shift].chars;this.screen[l+this.shift].dirty=!0;for(a=d;a<h;)e[a]=this.cloneAttr(e[a][0],String.fromCharCode(c)),a++;k.push(l++)}return k};c.prototype.enableLocatorReporting=function(a){return 0<
a[0]};c.prototype.eraseRectangle=function(a){var b,c,d,e,h,k;k=a[0];c=a[1];b=a[2];e=a[3];for(h=[];k<b+1;){d=this.screen[k+this.shift].chars;this.screen[k+this.shift].dirty=!0;for(a=c;a<e;)d[a]=this.eraseAttr(),a++;h.push(k++)}return h};c.prototype.setLocatorEvents=function(a){};c.prototype.selectiveEraseRectangle=function(a){};c.prototype.requestLocatorPosition=function(a){};c.prototype.insertColumns=function(){var a,b,c,d;c=params[0];b=this.rows+this.shift;for(d=[];c--;)a=this.shift,d.push(function(){var c;
for(c=[];a<b;)this.screen[a].chars.splice(this.x+1,0,this.eraseAttr()),this.screen[a].chars.pop(),this.screen[a].dirty=!0,c.push(a++);return c}.call(this));return d};c.prototype.deleteColumns=function(){var a,b,c,d;c=params[0];b=this.rows+this.shift;for(d=[];c--;)a=this.shift,d.push(function(){var c;for(c=[];a<b;)this.screen[a].chars.splice(this.x,1),this.screen[a].chars.push(this.eraseAttr()),this.screen[a].dirty=!0,this.screen[a].wrap=!1,c.push(a++);return c}.call(this));return d};c.prototype.charsets=
{SCLD:{"`":"\u25c6",a:"\u2592",b:"\t",c:"\f",d:"\r",e:"\n",f:"\u00b0",g:"\u00b1",h:"\u2424",i:"\x0B",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\u00a3","~":"\u00b7"},UK:null,US:null,Dutch:null,Finnish:null,French:null,FrenchCanadian:null,German:null,Italian:null,NorwegianDanish:null,Spanish:null,Swedish:null,Swiss:null,ISOLatin:null};
return c}();window.Terminal=A}).call(this);
//# sourceMappingURL=main.min.js.map